import { type NextPage } from 'next'
import Head from 'next/head'
import { useState, useEffect } from 'react'
import { useCtpStore, type Flavor } from '~/store'
import Header from '~/components/Header'
import BackgroundBlurSVG from '~/components/BackgroundBlurSVG'
import SkillsSection from '~/components/skills/SkillsSection'
import AboutSection from '~/components/about/AboutSection'
import ProjectsSection from '~/components/projects/ProjectsSection'
import ExperiencesSection from '~/components/experiences/ExperiencesSection'
import Footer from '~/components/Footer'
import HeroSection from '~/components/HeroSection'

const Home: NextPage = () => {
  const activeFlavor = useCtpStore((state) => state.flavor)
  const [flavor, setFlavor] = useState<Flavor>('mocha')

  useEffect(() => {
    setFlavor(activeFlavor)
  }, [activeFlavor])

  return (
    <>
      <Head>
        <title>Create T3 App</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className={`ctp-${flavor} min-w-screen min-h-screen bg-ctp-base`}>
        <Header />
        <HeroSection />
        <AboutSection />
        <SkillsSection />
        <ProjectsSection />
        <ExperiencesSection />
        <Footer />
        <BackgroundBlurSVG />
      </main>
    </>
  )
}

export default Home
